{"version":3,"sources":["components/Filter.js","components/NewPerson.js","components/Persons.js","components/Notification.js","services/Persons.js","App.js","index.js"],"names":["Filter","value","callback","onChange","NewPerson","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Persons","persons","filter","remove","person","name","toLowerCase","includes","map","key","id","number","onClick","window","confirm","Notification","message","className","text","baseUrl","Axios","get","then","response","data","obj","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setFilter","statusMessage","setStatusMessage","useEffect","showStatusMessage","setTimeout","event","target","preventDefault","index","findIndex","x","concat","oldPerson","catch","error","find","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a86ebfa2.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({value, callback}) => {\r\n\r\n    return (\r\n        <form>\r\n            <div>\r\n                filter: <input value={value} onChange={callback} />\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst NewPerson = ({addPerson, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n            name: <input value={newName} onChange={handleNameChange} />\r\n            </div>\r\n            <div>\r\n                number: <input value={newNumber} onChange={handleNumberChange} />\r\n            </div>\r\n            <div>\r\n            <button type=\"submit\" >add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default NewPerson","import React from 'react'\r\n\r\nconst Persons = ({persons, filter, remove}) => \r\n    <div>\r\n        {persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase())).map(person => \r\n        <div key={person.id}>\r\n            {person.name} {person.number} <button onClick={() => { if(window.confirm(`Delete ${person.name} ?`)) { remove(person.id) }}} >delete</button>\r\n        </div>\r\n        )}\r\n    </div>\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({message}) => {\r\n    if(message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={message.type}>\r\n            {message.text}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import Axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return Axios.get(baseUrl).then(response => response.data)\r\n}\r\n\r\nconst create = obj => {\r\n    return Axios.post(baseUrl, obj).then(response => response.data)\r\n}\r\n\r\nconst update = (id, obj) => {\r\n    return Axios.put(`${baseUrl}/${id}`, obj).then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    return Axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default {getAll, create, update, remove}","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport NewPerson from './components/NewPerson'\r\nimport PersonsList from './components/Persons'\r\nimport Notification from './components/Notification'\r\nimport Persons from './services/Persons'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n  const [statusMessage, setStatusMessage] = useState(null)\r\n\r\n  useEffect(() => {\r\n    Persons.getAll().then(data => setPersons(data))\r\n  }, [])\r\n  \r\n  const handleNameChange = (event) => {\r\n      setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n      setNewNumber(event.target.value)\r\n  }\r\n\r\n  const showStatusMessage = (text, type) => {\r\n    setStatusMessage({text, type})\r\n    setTimeout(() => {\r\n      setStatusMessage(null)\r\n    }, 5000)\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n      event.preventDefault()\r\n      //if(newName.length === 0 || newNumber.length === 0) return\r\n\r\n      const index = persons.findIndex(x => x.name === newName)\r\n\r\n      if(index === -1) {\r\n        Persons.create({ name: newName, number: newNumber }).then(data => {\r\n          setPersons(persons.concat(data))\r\n          showStatusMessage(`Added ${data.name}`, 'success')\r\n        })\r\n      } else {\r\n        const oldPerson = persons[index]\r\n        if(window.confirm(`${oldPerson.name} is already added to phonebook, replace the old number with a new one?`)) {\r\n          Persons.update(oldPerson.id, {...oldPerson, number: newNumber}).then(data => {\r\n            setPersons(persons.map(person => person.id !== data.id ? person : data))\r\n            showStatusMessage(`Updated ${data.name}`, 'success')\r\n          }).catch(error => {\r\n            setPersons(persons.filter(person => person.id !== oldPerson.id))\r\n            showStatusMessage(`${oldPerson.name} doesn't exist on the server anymore`, 'error')\r\n          })\r\n        }\r\n      }\r\n      setNewName('')\r\n      setNewNumber('')\r\n  }\r\n\r\n  const removePerson = id => {\r\n    Persons.remove(id).then(response => {\r\n      setPersons(persons.filter(person => person.id !== id))\r\n      showStatusMessage(`Removed ${persons.find(person => person.id === id).name}`, 'success')\r\n    })\r\n  }\r\n\r\n  const changeFilter = (event) => {\r\n      setFilter(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={statusMessage} />\r\n      <Filter value={filter} callback={changeFilter} />\r\n      <h2>Add new person</h2>\r\n      <NewPerson addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\r\n      <h2>Numbers</h2>\r\n      <PersonsList persons={persons} filter={filter} remove={removePerson} />\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}